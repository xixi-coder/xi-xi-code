package com.example.xixi.aeo;

import com.alibaba.fastjson.JSONObject;
import org.springframework.http.RequestEntity;
import org.springframework.http.ResponseEntity;
import org.springframework.web.client.RestTemplate;
import org.springframework.web.util.UriComponentsBuilder;

import java.net.URI;
import java.util.Arrays;
import java.util.List;

public class RequestAttach {
    /**
     * 更新2022-12月的随附单据
     * json文件为进口报关单列表的结果
     *
     * @param args
     */

    public static void main(String[] args) {
        String[] a = {
                "I20200000487003919",
                "I20200000450591047",
                "I20210000594510293",
                "I20210000561704749",
                "I20200000549447565",
                "I20200000487196759",
                "I20200000458527695",
                "I20200000428720435",
                "I20200000501122355",
                "I20210000731250777",
                "I20210000736487299",
                "I20200000509824233",
                "I20200000462508791",
                "I20200000404284649",
                "I20200000538535495",
                "I20210000756830867",
                "I20200000448855947",
                "I20200000407076285",
                "I20210000562720413",
                "I20210000747202151",
                "I20200000537451253",
                "I20200000479216241",
                "I20200000495258299",
                "I20210000734462935",
                "I20210000731131177",
                "I20210000556523317",
                "I20200000555869161",
                "I20200000447470799",
                "I20210000566854407",
                "I20200000415809497",
                "I20210000742112115",
                "I20210000587496585",
                "I20210000728315183",
                "I20200000408244305",
                "I20200000422782465",
                "I20210000588867797",
                "I20210000725156537",
                "I20200000484125817",
                "I20200000520559429",
                "I20210000753368513",
                "I20220000789442055",
                "I20210000737118841",
                "I20210000732778247",
                "I20200000418252459",
                "I20210000557457103",
                "I20210000721552995",
                "I20210000565745671",
                "I20200000446811609",
                "I20210000720898391",
                "I20210000747893599",
                "I20200000427025035",
                "I20210000749148625",
                "I20200000499784681",
                "I20210000720557521",
                "I20200000407079571",
                "I20210000558889981",
                "I20200000418532915",
                "I20200000407700847",
                "I20200000544812371",
                "I20210000750801631",
                "I20200000480227049",
                "I20210000752909267",
                "I20200000404064791",
                "I20200000451700381",
                "I20200000503752223",
                "I20200000437189615",
                "I20210000591491531",
                "I20210000622935177",
                "I20200000514452013",
                "I20210000562409353",
                "I20200000545532595",
                "I20210000746980257",
                "I20200000411645569",
                "I20210000566854839",
                "I20200000527431167",
                "I20210000575550805",
                "I20200000493185741",
                "I20210000751931757",
                "I20210000722028565",
                "I20200000549709317",
                "I20200000463237667",
                "I20200000484146741",
                "I20210000749009695",
                "I20200000531811003",
                "I20210000589122923",
                "I20200000403863405",
                "I20210000733417881",
                "I20210000745001775",
                "I20210000595839201",
                "I20210000730695999",
                "I20210000556971999",
                "I20200000531700941",
                "I20200000419718787",
                "I20200000411815305",
                "I20210000595265371",
                "I20210000742721471",
                "I20200000484259473",
                "I20200000447216341",
                "I20200000496495335",
                "I20210000556810759",
                "I20210000753856031",
                "I20200000503692489",
                "I20200000424471581",
                "I20210000723250505",
                "I20210000741991979",
                "I20210000742483633",
                "I20200000456692887",
                "I20210000581230813",
                "I20210000600374765",
                "I20200000515196643",
                "I20210000747088561",
                "I20210000722771759",
                "I20210000581833083",
                "I20210000748365391",
                "I20210000754666227",
                "I20200000416030517",
                "I20210000590471635",
                "I20210000755361121",
                "I20200000422730875",
                "I20210000721715605",
                "I20210000752340379",
                "I20200000507379773",
                "I20200000554407775",
                "I20210000727013695",
                "I20200000455118941",
                "I20200000454413909",
                "I20210000730693361",
                "I20200000534976163",
                "I20200000407647475",
                "I20210000752556769",
                "I20200000407078659",
                "I20200000419959343",
                "I20210000589809479",
                "I20210000748703473",
                "I20200000414417939",
                "I20210000740849705",
                "I20210000583385047",
                "I20210000570047519",
                "I20210000724935409",
                "I20200000458690127",
                "I20200000428230909",
                "I20210000582525815",
                "I20210000568349635",
                "I20200000553619571",
                "I20200000542201669",
                "I20210000722901321",
                "I20200000413336627",
                "I20200000407704127",
                "I20210000562735967",
                "I20200000432981727",
                "I20210000574340091",
                "I20210000586604623",
                "I20210000757098865",
                "I20200000508626105",
                "I20200000409052105",
                "I20200000512862505",
                "I20210000745055535",
                "I20210000569512845",
                "I20210000556519085",
                "I20200000548244311",
                "I20200000430970579",
                "I20210000721605383",
                "I20200000424447447",
                "I20200000533282117",
                "I20200000434014347",
                "I20200000468427759",
                "I20200000405207219",
                "I20200000414999803",
                "I20210000730203911",
                "I20200000432352337",
                "I20210000577986877",
                "I20200000469520721",
                "I20210000734360535",
                "I20210000639397275",
                "I20210000737986311",
                "I20200000457590651",
                "I20200000532176009",
                "I20200000496720039",
                "I20210000558709137",
                "I20200000447975323",
                "I20200000475971549",
                "I20210000725224735",
                "I20210000752314921",
                "I20210000746859833",
                "I20200000466378775",
                "I20210000754137815",
                "I20210000762809549",
                "I20210000722116135",
                "I20200000446130959",
                "I20200000420405867",
                "I20210000584835759",
                "I20200000419979369",
                "I20200000495689927",
                "I20210000752971469",
                "I20200000495281959",
                "I20210000568122061",
                "I20210000747227215",
                "I20200000413814965",
                "I20200000406506727",
                "I20200000428426111",
                "I20200000475971487",
                "I20200000405235455",
                "I20210000734351505",
                "I20200000537249145",
                "I20200000514616097",
                "I20210000589636341",
                "I20200000423917383",
                "I20200000404907411",
                "I20210000582582551",
                "I20200000479075551",
                "I20200000409816317",
                "I20210000753502825",
                "I20200000516781409",
                "I20210000565278255",
                "I20200000504061129",
                "I20210000725225085",
                "I20210000750527147",
                "I20210000590878339",
                "I20200000485260435",
                "I20210000586541385",
                "I20200000426191505",
                "I20200000417814445",
                "I20210000754184517",
                "I20200000455202919",
                "I20200000458987083",
                "I20220000793477893",
                "I20200000532916439",
                "I20200000446362083",
                "I20210000585387497",
                "I20210000598215149",
                "I20200000495655351",
                "I20200000479990155",
                "I20220000803708021",
                "I20210000617483821",
                "I20210000583906555",
                "I20210000723139021",
                "I20210000754409167",
                "I20200000443169433",
                "I20200000495070047",
                "I20210000730323937",
                "I20210000644447899",
                "I20200000476666499",
                "I20200000405968351",
                "I20200000500721991",
                "I20200000535721111",
                "I20210000559176203",
                "I20200000419482781",
                "I20200000430968155",
                "I20200000433152525",
                "I20210000603393467",
                "I20200000503691823",
                "I20210000598398485",
                "I20200000402576427",
                "I20210000744838521",
                "I20200000409080141",
                "I20200000480542231",
                "I20200000501120773",
                "I20210000757423195",
                "I20200000447649517",
                "I20200000489844827",
                "I20200000419679915",
                "I20200000406735703",
                "I20200000538776843",
                "I20210000765339083",
                "I20210000569471523",
                "I20200000413547529",
                "I20200000548248185",
                "I20210000743558529",
                "I20210000755059213",
                "I20200000435214557",
                "I20210000671080981",
                "I20200000503884125",
                "I20210000752675377",
                "I20200000409774961",
                "I20200000448247185",
                "I20200000464543397",
                "I20210000565925961",
                "I20210000755632433",
                "I20200000474589633",
                "I20210000727010507",
                "I20210000730465043",
                "I20200000515865357",
                "I20200000407098937",
                "I20200000417685399",
                "I20210000741694155",
                "I20210000609731347",
                "I20210000768582615",
                "I20200000545897815",
                "I20210000751910055",
                "I20210000722216513",
                "I20210000727154089",
                "I20200000540050835",
                "I20200000513034229",
                "I20200000448248025",
                "I20210000595064421",
                "I20210000582624187",
                "I20200000448357747",
                "I20200000490910777",
                "I20200000492951021",
                "I20200000446737637",
                "I20200000433369459",
                "I20200000417858683",
                "I20200000493334473",
                "I20200000421839657",
                "I20200000488994633",
                "I20210000730461981",
                "I20210000603027299",
                "I20210000755869397",
                "I20200000441134553",
                "I20200000492475775",
                "I20200000405367605",
                "I20210000755335061",
                "I20210000571478221",
                "I20210000599773395",
                "I20200000441857879",
                "I20210000571477371",
                "I20200000474584853",
                "I20200000538189269",
                "I20210000721631939",
                "I20200000446126727",
                "I20200000437739763",
                "I20200000436459795",
                "I20200000458281971",
                "I20200000540323423",
                "I20200000412876549",
                "I20200000473347325",
                "I20200000534026843",
                "I20210000557252647",
                "I20210000567601555",
                "I20200000503596779",
                "I20200000534024427",
                "I20210000593839417",
                "I20210000731047279",
                "I20200000485689269",
                "I20200000465352819",
                "I20200000432986615",
                "I20200000427586129",
                "I20210000740841793",
                "I20220000793480895",
                "I20200000425447041",
                "I20210000578850663",
                "I20210000625995623",
                "I20200000447314191",
                "I20200000495220727",
                "I20200000525713841",
                "I20210000733878729",
                "I20210000749195767",
                "I20200000439697063",
                "I20210000566740651",
                "I20200000418720595",
                "I20210000727410045",
                "I20200000452211051",
                "I20200000501121467",
                "I20210000586758981",
                "I20200000470408561",
                "I20200000406233699",
                "I20200000422942569",
                "I20200000440859403",
                "I20210000754304567",
                "I20200000407571789",
                "I20200000551775799",
                "I20210000745539875",
                "I20200000462414729",
                "I20210000746792999",
                "I20210000751893019",
                "I20210000727519421",
                "I20210000753406499",
                "I20200000490975615",
                "I20200000521609635",
                "I20210000723127949",
                "I20210000736176311",
                "I20210000599774459",
                "I20210000619110201",
                "I20200000504604813",
                "I20200000445858711",
                "I20200000538189277",
                "I20200000426191159",
                "I20200000423723751",
                "I20210000612104601",
                "I20210000731097777",
                "I20210000756105309",
                "I20210000572592051",
                "I20210000751022153",
                "I20200000406154637",
                "I20200000412499213",
                "I20200000486441607",
                "I20210000723446035",
                "I20210000616083251",
                "I20210000587495273",
                "I20210000572306475",
                "I20210000752465689",
                "I20200000451840527",
                "I20210000749544041",
                "I20210000723960689",
                "I20200000436076125",
                "I20200000550687013",
                "I20210000583966191",
                "I20200000457501763",
                "I20200000500722177",
                "I20210000753422257",
                "I20200000494131447",
                "I20210000752387993",
                "I20200000431989077",
                "I20210000600650565",
                "I20200000422328705",
                "I20200000435981711",
                "I20200000480999627",
                "I20200000462636993",
                "I20210000751526155",
                "I20210000589951111",
                "I20200000507379015",
                "I20200000493198979",
                "I20200000516501503",
                "I20210000753150201",
                "I20200000511382021",
                "I20200000417214899",
                "I20200000440860459",
                "I20210000745929651",
                "I20210000751159165",
                "I20200000466353153",
                "I20200000487926343",
                "I20210000562694379",
                "I20200000506178067",
                "I20200000504684193",
                "I20210000736147885",
                "I20200000526518475",
                "I20210000754404021",
                "I20210000727232111",
                "I20200000467910215",
                "I20200000510791491",
                "I20210000746761585",
                "I20200000494934543",
                "I20210000562731875",
                "I20200000479989953",
                "I20210000749694173",
                "I20210000749137621",
                "I20200000425667293",
                "I20210000566323277",
                "I20210000600629951",
                "I20210000730477961",
                "I20210000598815261",
                "I20200000407648055",
                "I20210000751392483",
                "I20200000512137405",
                "I20210000748584065",
                "I20200000450963623",
                "I20210000600580589",
                "I20200000495376423",
                "I20200000436042103",
                "I20200000432966411",
                "I20200000544438991",
                "I20210000751333049",
                "I20200000443116033",
                "I20210000756361927",
                "I20210000748109763",
                "I20200000474831289",
                "I20210000755439197",
                "I20210000568821937",
                "I20210000753962269",
                "I20210000615752695",
                "I20210000741683721",
                "I20210000609635751",
                "I20210000582584491",
                "I20210000670284199",
                "I20200000466647807",
                "I20210000753298409",
                "I20210000595415211",
                "I20200000406992481",
                "I20210000755779705",
                "I20210000601238139",
                "I20100000585213555",
                "I20200000457717991",
                "I20200000405367635",
                "I20210000734865163",
                "I20200000508159859",
                "I20210000759136611",
                "I20210000735977449",
                "I20210000723251943",
                "I20210000734836841",
                "I20210000757544085",
                "I20200000425903935",
                "I20200000529763215",
                "I20200000425098649",
                "I20200000489615469",
                "I20200000518809649",
                "I20200000450447851",
                "I20200000449205677",
                "I20210000750996701",
                "I20200000410502439",
                "I20210000730696973",
                "I20200000469280685",
                "I20210000733441049",
                "I20200000491389177",
                "I20210000722804891",
                "I20210000743964111",
                "I20200000431985745",
                "I20200000424249921",
                "I20210000754829695",
                "I20200000413815533",
                "I20200000413814203",
                "I20200000425763555",
                "I20210000603364371",
                "I20210000753289717",
                "I20200000414749539",
                "I20210000574245647",
                "I20200000430798091",
                "I20200000516087835",
                "I20210000734279627",
                "I20210000568437171",
                "I20200000535142207",
                "I20210000757917621",
                "I20200000450261055",
                "I20210000752389535",
                "I20210000739362819",
                "I20210000756118011",
                "I20200000545881065",
                "I20210000728318727",
                "I20200000413336537",
                "I20210000561375991",
                "I20200000473343981",
                "I20200000459775351",
                "I20210000560579239",
                "I20200000471693565",
                "I20210000723449299",
                "I20200000450261041",
                "I20200000425977111",
                "I20200000471556763",
                "I20210000609788085",
                "I20200000412499079",
                "I20200000504684113",
                "I20210000734152529",
                "I20210000733976247",
                "I20200000403203271",
                "I20210000753434091",
                "I20210000755942073",
                "I20200000415366259",
                "I20210000753837823",
                "I20210000571816575",
                "I20200000548242047",
                "I20210000595489063",
                "I20200000501069325",
                "I20210000737334039",
                "I20200000425139275",
                "I20200000406552489",
                "I20210000753390719",
                "I20200000436981519",
                "I20200000407022929",
                "I20210000583106927",
                "I20200000525094217",
                "I20200000418176339",
                "I20200000477729731",
                "I20210000600990469",
                "I20200000474585237",
                "I20210000565826247",
                "I20200000403570881",
                "I20200000449443521",
                "I20210000583310401",
                "I20200000430965275",
                "I20210000581611485",
                "I20210000754062409",
                "I20210000724442787",
                "I20210000593706797",
                "I20200000485745189",
                "I20200000483141113",
                "I20210000734953885",
                "I20210000751446125",
                "I20210000752452859",
                "I20200000407973523",
                "I20210000724703405",
                "I20200000480296991",
                "I20200000401024707",
                "I20210000628414039",
                "I20200000532918919",
                "I20210000737975559",
                "I20200000463868477",
                "I20210000744788965",
                "I20200000521077783",
                "I20210000724149033",
                "I20210000726257833",
                "I20210000741626591",
                "I20200000490738959",
                "I20200000552224725",
                "I20200000426190871",
                "I20210000742476849",
                "I20200000459836615",
                "I20210000737191363",
                "I20200000491507709",
                "I20200000521962681",
                "I20210000726711557",
                "I20200000487276291",
                "I20200000407086567",
                "I20210000749125845",
                "I20210000751684711",
                "I20210000562724519",
                "I20200000482686153",
                "I20210000585363033",
                "I20200000432959747",
                "I20210000734162507",
                "I20200000426504115",
                "I20200000404774011",
                "I20200000409786647",
                "I20210000754934057",
                "I20200000503691985",
                "I20210000726992555",
                "I20210000753476441",
                "I20200000527897553",
                "I20200000527230375",
                "I20200000451521023",
                "I20210000734777807",
                "I20210000556514287",
                "I20200000451970113",
                "I20210000571476323",
                "I20200000505367863",
                "I20200000436343173",
                "I20210000753990495",
                "I20210000754173775",
                "I20200000504188489",
                "I20200000472748295",
                "I20200000470309847",
                "I20200000514151209",
                "I20210000562734015",
                "I20210000739213635",
                "I20200000508860693",
                "I20210000668250177",
                "I20210000711158623",
                "I20210000569510803",
                "I20200000438106747",
                "I20210000603254037",
                "I20200000456628303",
                "I20210000582583503",
                "I20210000736450307",
                "I20200000520772783",
                "I20210000574299819",
                "I20200000496166039",
                "I20210000726439461",
                "I20200000479990279",
                "I20210000752288305",
                "I20210000748800219",
                "I20200000417399171",
                "I20210000723988793",
                "I20210000750300243",
                "I20200000425139301",
                "I20210000753489549",
                "I20210000751832695",
                "I20210000755327715",
                "I20210000764555133",
                "I20210000616957999",
                "I20210000727155091",
                "I20210000562863787",
                "I20200000504701157",
                "I20210000754377343",
                "I20200000474165201",
                "I20200000429590139",
                "I20210000753293761",
                "I20200000426465693",
                "I20200000496586849",
                "I20210000559013221",
                "I20210000734172903",
                "I20210000751417003",
                "I20210000755335791",
                "I20210000753849045",
                "I20200000453411843",
                "I20200000420104443",
                "I20200000496891495",
                "I20200000535723481",
                "I20210000751926309",
                "I20200000432991297",
                "I20210000732201659",
                "I20200000486472831",
                "I20210000584815057",
                "I20200000542452227",
                "I20200000426190349",
                "I20210000560547719",
                "I20200000428625643",
                "I20200000430972103",
                "I20210000745927711",
                "I20200000493496119",
                "I20210000598824255",
                "I20220000900499979",
                "I20200000476435373",
                "I20210000602605049",
                "I20210000754634951",
                "I20210000616111617",
                "I20210000742396829",
                "I20200000432970585",
                "I20210000751856629",
                "I20200000531934473",
                "I20200000483226467",
                "I20200000476948811",
                "I20200000456808273",
                "I20210000603719983",
                "I20210000591815501",
                "I20200000401664213",
                "I20200000413815085",
                "I20210000600069449",
                "I20210000724443261",
                "I20200000430506715",
                "I20200000512974077",
                "I20210000751831327",
                "I20210000594645499",
                "I20210000586692129",
                "I20210000569529451",
                "I20210000722763165",
                "I20200000453694741",
                "I20200000488778649",
                "I20210000594575353",
                "I20200000404715803",
                "I20200000528467779",
                "I20210000560956379",
                "I20200000405236829",
                "I20200000485730489",
                "I20210000557624857",
                "I20200000516040867",
                "I20210000597105909",
                "I20210000730668397",
                "I20210000752757727",
                "I20200000455456739",
                "I20210000724155413",
                "I20210000721934937",
                "I20210000582307915",
                "I20200000434626675",
                "I20210000582192055",
                "I20210000586693263",
                "I20200000419584845",
                "I20210000588140611",
                "I20200000462658921",
                "I20200000423243985",
                "I20200000499602941",
                "I20200000525852601",
                "I20210000645700889",
                "I20200000403203959",
                "I20200000483970191",
                "I20210000733532885",
                "I20200000531722375",
                "I20210000581299465",
                "I20210000560899165",
                "I20210000753379129",
                "I20200000405933787",
                "I20200000495785211",
                "I20210000744245785",
                "I20200000452872163",
                "I20210000585980801",
                "I20200000533664817",
                "I20210000747420537",
                "I20200000481278531",
                "I20200000496719927",
                "I20200000404695163",
                "I20200000489113209",
                "I20210000753475305",
                "I20200000445864699",
                "I20200000446131179",
                "I20210000731735151",
                "I20210000616414767",
                "I20200000414967889",
                "I20200000458258655",
                "I20200000547774223",
                "I20210000582133715",
                "I20210000595064173",
                "I20200000537996429",
                "I20200000496495837",
                "I20210000582737957",
                "I20210000739362587",
                "I20210000754301169",
                "I20200000432730217",
                "I20200000442940653",
                "I20200000438959563",
                "I20210000759220525",
                "I20210000569667859",
                "I20200000545717253",
                "I20200000522828557",
                "I20210000739948921",
                "I20210000562738257",
                "I20210000742183295",
                "I20200000425569967",
                "I20200000413015725",
                "I20200000464711375",
                "I20210000753931467",
                "I20200000503886267",
                "I20210000724165273",
                "I20210000754201615",
                "I20210000753948903",
                "I20200000424736701",
                "I20210000586548501",
                "I20210000573646611",
                "I20210000751022265",
                "I20200000438425447",
                "I20200000490952889",
                "I20200000499914313",
                "I20200000409161493",
                "I20210000572852599",
                "I20210000581359145",
                "I20210000764156297",
                "I20210000742519949",
                "I20200000434565451",
                "I20200000536657059",
                "I20200000421324139",
                "I20210000739362795",
                "I20200000418368497",
                "I20200000514935789",
                "I20210000587815447",
                "I20210000754302005"
        };
        List<String> list = Arrays.asList(a);
        System.out.println(list.size());
//        if (list.isEmpty()) {
//            return;
//        }
        list.forEach(
                cusCiqNo -> {
                    String url = "https://declare.smartebao.com/dub-import-controller/rec/aeo/updateAttach/" + cusCiqNo;
                    RestTemplate restTemplate = new RestTemplate();
                    URI uri = UriComponentsBuilder.fromUriString(url).buildAndExpand().toUri();
                    JSONObject param = new JSONObject();
                    RequestEntity<JSONObject> requestEntity =
                            RequestEntity.post(uri)
                                    .header("Content-Type", "application/json; charset=UTF-8")
                                    .header("Cookie",
                                            "UM_distinctid=1887b4aefcd502-05e50ace3fc5af-1c525634-13c680-1887b4aefce1f1e; acw_tc=76b20ff316878295092282639e27c6b8ea71580ce2ad974f09659ee5e0d16f; CNZZDATA1279925767=587580418-1657009757-%7C1687828255; UCT_USER_ID=JH_HHD; service=https%3A%2F%2Fdeclare.smartebao.com%2Fdub-webapp-index%2F%23%2Fdashboard; token=dfad8bd7-0885-4587-9ac7-60d3e48dca97; APP_CODE=declare; LOGIN_FORM=https%3A%2F%2Fsso.smartebao.com; CNZZDATA1278868508=601052516-1657108390-https%253A%252F%252Fdeclare.smartebao.com%252F%7C1687829685; SERVERID=b793808b572c6a6e6bf83b9e4e5ce4b8|1687829686|1687829509"
                                    ).body(param);
                    ResponseEntity<JSONObject> response = restTemplate.exchange(requestEntity, JSONObject.class);
                    System.out.println(url);
                    System.out.println(response.getBody());
                    try {
                        Thread.sleep(3000);
                    } catch (InterruptedException e) {
                        throw new RuntimeException(e);
                    }
                }
        );


    }


}
